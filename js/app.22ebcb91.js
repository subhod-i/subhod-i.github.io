(function(){var e={5177:function(e,n,t){"use strict";var l=t(9963),o=t(6252),r=t(3577);const a=(0,o._)("h2",null,"Simple æpp",-1),i={key:0,class:"nav"};function s(e,n,t,l,s,c){const d=(0,o.up)("Connect");return(0,o.wg)(),(0,o.iD)(o.HY,null,[a,(0,o.Wm)(d),e.aeSdk?((0,o.wg)(),(0,o.iD)("div",i,[(0,o._)("a",{href:"#",class:(0,r.C_)({active:"Basic"===e.view}),onClick:n[0]||(n[0]=n=>e.view="Basic")}," Basic functionality ",2),(0,o._)("a",{href:"#",class:(0,r.C_)({active:"Contracts"===e.view}),onClick:n[1]||(n[1]=n=>e.view="Contracts")}," Smart contracts ",2)])):(0,o.kq)("",!0),e.aeSdk&&e.view?((0,o.wg)(),(0,o.j4)((0,o.LL)(e.view),{key:1})):(0,o.kq)("",!0)],64)}var c=t(3907);const d={class:"group"},u=["disabled"],p={class:"group"},m=(0,o._)("div",null,"SDK status",-1),v=(0,o._)("div",null,"Wallet name",-1);function h(e,n,t,a,i,s){return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",d,[(0,o._)("div",null,[(0,o._)("label",null,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":n[0]||(n[0]=n=>e.connectMethod=n),type:"radio",value:"default"},null,512),[[l.G2,e.connectMethod]]),(0,o.Uk)(" Iframe or WebExtension ")])]),(0,o._)("div",null,[(0,o._)("label",null,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":n[1]||(n[1]=n=>e.connectMethod=n),type:"radio",value:"reverse-iframe"},null,512),[[l.G2,e.connectMethod]]),(0,o.Uk)(" Reverse iframe ")]),(0,o._)("div",null,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":n[2]||(n[2]=n=>e.reverseIframeWalletUrl=n)},null,512),[[l.nr,e.reverseIframeWalletUrl]])])]),e.connectMethod&&!e.walletConnected?((0,o.wg)(),(0,o.iD)("button",{key:0,disabled:e.walletConnecting,onClick:n[3]||(n[3]=(...e)=>s.connect&&s.connect(...e))}," Connect ",8,u)):(0,o.kq)("",!0),e.walletConnected?((0,o.wg)(),(0,o.iD)("button",{key:1,onClick:n[4]||(n[4]=(...e)=>s.disconnect&&s.disconnect(...e))}," Disconnect ")):(0,o.kq)("",!0)]),(0,o._)("div",p,[(0,o._)("div",null,[m,(0,o._)("div",null,(0,r.zw)((e.walletConnected?"Wallet connected":e.walletConnecting&&"Wallet connecting")||"Ready to connect to wallet"),1)]),(0,o._)("div",null,[v,(0,o._)("div",null,(0,r.zw)(s.walletName),1)])])],64)}var y=t(6244),w=t(6268),f=t(995),_={data:()=>({connectMethod:"default",walletConnected:!1,walletConnecting:null,reverseIframe:null,reverseIframeWalletUrl:"http://localhost:9000",walletInfo:null}),computed:{...(0,c.rn)(["aeSdk"]),walletName(){return this.aeSdk?this.walletConnected?this.walletInfo.name:"Wallet is not connected":"SDK is not ready"}},methods:{async scanForWallets(){return new Promise((e=>{let n;const t=async({wallets:t,newWallet:l})=>{l=l||Object.values(t)[0],n(),e(l.getConnection())},l=new y.Z;n=(0,w.Z)(l,t)}))},async connect(){this.walletConnecting=!0;try{"reverse-iframe"===this.connectMethod&&(this.reverseIframe=document.createElement("iframe"),this.reverseIframe.src=this.reverseIframeWalletUrl,this.reverseIframe.style.display="none",document.body.appendChild(this.reverseIframe));const n=await this.scanForWallets();try{this.walletInfo=await this.aeSdk.connectToWallet(n)}catch(e){throw e instanceof f.Zx&&n.disconnect(),e}this.walletConnected=!0;const{address:{current:t}}=await this.aeSdk.subscribeAddress("subscribe","connected");console.log(await this.aeSdk.askAddresses()),this.$store.commit("setAddress",Object.keys(t)[0])}finally{this.walletConnecting=!1}},async disconnect(){await this.aeSdk.disconnectWallet(),this.walletConnected=!1,this.reverseIframe&&this.reverseIframe.remove(),this.$emit("aeSdk",null)}}},g=t(3744);const k=(0,g.Z)(_,[["render",h]]);var C=k;const b=(0,o._)("h2",null,"General information",-1),P={class:"group"},S=(0,o._)("div",null,"Address",-1),I=(0,o._)("div",null,"Balance",-1),D=(0,o._)("div",null,"Height",-1),W=(0,o._)("div",null,"Node info",-1),A=(0,o._)("div",null,"Compiler version",-1),O=(0,o._)("h2",null,"Spend coins",-1),x={class:"group"},U=(0,o._)("div",null,"Recipient address",-1),V=(0,o._)("div",null,"Coins amount",-1),j=(0,o._)("div",null,"Payload",-1),T=["disabled"],q={key:0},N=(0,o._)("div",null,"Spend result",-1);function Z(e,n,t,a,i,s){const c=(0,o.up)("Value");return(0,o.wg)(),(0,o.iD)(o.HY,null,[b,(0,o._)("div",P,[(0,o._)("div",null,[S,(0,o._)("div",null,(0,r.zw)(e.address),1)]),(0,o._)("div",null,[I,(0,o.Wm)(c,{value:e.balancePromise},null,8,["value"])]),(0,o._)("div",null,[D,(0,o.Wm)(c,{value:e.heightPromise},null,8,["value"])]),(0,o._)("div",null,[W,(0,o.Wm)(c,{value:e.nodeInfoPromise},null,8,["value"])]),(0,o._)("div",null,[A,(0,o.Wm)(c,{value:e.compilerVersionPromise},null,8,["value"])])]),O,(0,o._)("div",x,[(0,o._)("div",null,[U,(0,o._)("div",null,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":n[0]||(n[0]=n=>e.spendTo=n),placeholder:"ak_..."},null,512),[[l.nr,e.spendTo]])])]),(0,o._)("div",null,[V,(0,o._)("div",null,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":n[1]||(n[1]=n=>e.spendAmount=n)},null,512),[[l.nr,e.spendAmount]])])]),(0,o._)("div",null,[j,(0,o._)("div",null,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":n[2]||(n[2]=n=>e.spendPayload=n)},null,512),[[l.nr,e.spendPayload]])])]),(0,o._)("button",{disabled:!e.aeSdk,onClick:n[3]||(n[3]=n=>e.spendPromise=s.spend())}," Spend ",8,T),e.spendPromise?((0,o.wg)(),(0,o.iD)("div",q,[N,(0,o.Wm)(c,{value:e.spendPromise},null,8,["value"])])):(0,o.kq)("",!0)])],64)}var M=t(732),B=t(7469);function H(e,n,t,l,a,i){return(0,o.wg)(),(0,o.iD)("div",{class:(0,r.C_)({error:e.error})},(0,r.zw)(e.text),3)}var Y={props:{value:{type:[Object,Array,String,Number,Promise],default:null}},data:()=>({text:"",error:!1}),watch:{value:{async handler(e){e?.then?(this.text="Waiting for resolving",this.error=!1,this.text=await e.then((e=>this.valueToString(e)),(e=>(console.warn(e),this.error=!0,e)))):this.text=this.valueToString(e)},immediate:!0}},methods:{valueToString(e){return"object"!==typeof e?e:JSON.stringify(e,((e,n)=>"bigint"===typeof n?`${n} (as BigInt)`:n),2)}}};const $=(0,g.Z)(Y,[["render",H]]);var z=$,R={components:{Value:z},data:()=>({balancePromise:null,heightPromise:null,nodeInfoPromise:null,compilerVersionPromise:null,spendTo:"",spendAmount:"",spendPayload:"",spendPromise:null}),computed:(0,c.rn)(["aeSdk","address","networkId"]),mounted(){this.$watch((({aeSdk:e,address:n,networkId:t})=>[e,n,t]),(([e,n])=>{e&&(this.compilerVersionPromise=e.compilerApi.version(),this.balancePromise=e.getBalance(n),this.heightPromise=e.getHeight(),this.nodeInfoPromise=e.getNodeInfo())}),{immediate:!0})},methods:{spend(){return this.aeSdk.spend(this.spendAmount,this.spendTo,{payload:(0,M.cv)((new TextEncoder).encode(this.spendPayload),B.e.Bytearray)})}}};const E=(0,g.Z)(R,[["render",Z]]);var F=E;const G=(0,o._)("h2",null,"Contract Instance",-1),K={class:"group"},L=(0,o._)("div",null,"Contract Source Code",-1),J={key:0},X=(0,o._)("div",null,"Contract Instance",-1),Q=(0,o._)("h2",null,"Compile Contract",-1),ee={class:"group"},ne={key:0},te=(0,o._)("div",null,"Bytecode",-1),le=(0,o._)("h2",null,"Deploy Contract",-1),oe={class:"group"},re=(0,o._)("div",null,"Deploy argument",-1),ae={key:0},ie=(0,o._)("div",null,"Deployed Contract",-1),se=(0,o._)("h2",null,"Call Contract",-1),ce={class:"group"},de=(0,o._)("div",null,"Call argument",-1),ue={key:0},pe=(0,o._)("div",null,"Call Result",-1);function me(e,n,t,r,a,i){const s=(0,o.up)("Value");return(0,o.wg)(),(0,o.iD)(o.HY,null,[G,(0,o._)("div",K,[(0,o._)("div",null,[L,(0,o._)("div",null,[(0,o.wy)((0,o._)("textarea",{"onUpdate:modelValue":n[0]||(n[0]=n=>e.contractSourceCode=n),placeholder:"Contact source code"},null,512),[[l.nr,e.contractSourceCode]])])]),(0,o._)("button",{onClick:n[1]||(n[1]=n=>e.createPromise=i.create())}," Create "),e.createPromise?((0,o.wg)(),(0,o.iD)("div",J,[X,(0,o.Wm)(s,{value:e.createPromise.then((()=>"Ready"))},null,8,["value"])])):(0,o.kq)("",!0)]),e.contract?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[Q,(0,o._)("div",ee,[(0,o._)("button",{onClick:n[2]||(n[2]=n=>e.compilePromise=i.compile())}," Compile "),e.compilePromise?((0,o.wg)(),(0,o.iD)("div",ne,[te,(0,o.Wm)(s,{value:e.compilePromise},null,8,["value"])])):(0,o.kq)("",!0)])],64)):(0,o.kq)("",!0),e.contract?((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[le,(0,o._)("div",oe,[(0,o._)("div",null,[re,(0,o._)("div",null,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":n[3]||(n[3]=n=>e.deployArg=n),placeholder:"Deploy argument"},null,512),[[l.nr,e.deployArg]])])]),(0,o._)("button",{onClick:n[4]||(n[4]=n=>e.deployPromise=i.deploy())}," Deploy "),e.deployPromise?((0,o.wg)(),(0,o.iD)("div",ae,[ie,(0,o.Wm)(s,{value:e.deployPromise},null,8,["value"])])):(0,o.kq)("",!0)])],64)):(0,o.kq)("",!0),e.deployPromise?((0,o.wg)(),(0,o.iD)(o.HY,{key:2},[se,(0,o._)("div",ce,[(0,o._)("div",null,[de,(0,o._)("div",null,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":n[5]||(n[5]=n=>e.callArg=n),placeholder:"Call argument"},null,512),[[l.nr,e.callArg]])])]),(0,o._)("button",{onClick:n[6]||(n[6]=n=>e.callPromise=i.call())}," Call "),e.callPromise?((0,o.wg)(),(0,o.iD)("div",ue,[pe,(0,o.Wm)(s,{value:e.callPromise},null,8,["value"])])):(0,o.kq)("",!0)])],64)):(0,o.kq)("",!0)],64)}var ve=t(2262);const he="\ncontract Multiplier =\n  record state = { factor: int }\n  entrypoint init(f : int) : state = { factor = f }\n  entrypoint calc(x : int) = x * state.factor\n".trim();var ye={components:{Value:z},data:()=>({contractSourceCode:he,deployArg:5,callArg:7,createPromise:null,contract:null,compilePromise:null,deployPromise:null,callPromise:null}),computed:(0,c.rn)(["aeSdk"]),methods:{async create(){this.contract=(0,ve.XI)(await this.aeSdk.initializeContract({sourceCode:this.contractSourceCode}))},async compile(){return this.contract.$compile()},async deploy(){return this.contract.$deploy([this.deployArg])},async call(){return this.contract.calc(this.callArg)}}};const we=(0,g.Z)(ye,[["render",me]]);var fe=we,_e={components:{Connect:C,Basic:F,Contracts:fe},data:()=>({view:""}),computed:(0,c.rn)(["aeSdk"])};const ge=(0,g.Z)(_e,[["render",s]]);var ke=ge,Ce=t(5592),be=t(2629),Pe=t(8664);const Se="https://testnet.aeternity.io",Ie="https://mainnet.aeternity.io",De="https://v7.compiler.stg.aepps.com",We=(0,c.MT)({state:{address:void 0,networkId:void 0,aeSdk:(0,ve.Um)(new Ce.Z({name:"Simple æpp",nodes:[{name:"testnet",instance:new be.Z(Se)},{name:"mainnet",instance:new be.Z(Ie)}],onCompiler:new Pe.Z(De),async onNetworkChange({networkId:e}){const[{name:n}]=(await this.getNodesInPool()).filter((n=>n.nodeNetworkId===e));this.selectNode(n),We.commit("setNetworkId",e)},onAddressChange:({current:e})=>We.commit("setAddress",Object.keys(e)[0]),onDisconnect:()=>alert("Aepp is disconnected")}))},mutations:{setAddress(e,n){e.address=n},setNetworkId(e,n){e.networkId=n}}});var Ae=We;(0,l.ri)(ke).use(Ae).mount("#app")},5024:function(){}},n={};function t(l){var o=n[l];if(void 0!==o)return o.exports;var r=n[l]={exports:{}};return e[l].call(r.exports,r,r.exports,t),r.exports}t.m=e,function(){var e=[];t.O=function(n,l,o,r){if(!l){var a=1/0;for(d=0;d<e.length;d++){l=e[d][0],o=e[d][1],r=e[d][2];for(var i=!0,s=0;s<l.length;s++)(!1&r||a>=r)&&Object.keys(t.O).every((function(e){return t.O[e](l[s])}))?l.splice(s--,1):(i=!1,r<a&&(a=r));if(i){e.splice(d--,1);var c=o();void 0!==c&&(n=c)}}return n}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[l,o,r]}}(),function(){t.d=function(e,n){for(var l in n)t.o(n,l)&&!t.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:n[l]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};t.O.j=function(n){return 0===e[n]};var n=function(n,l){var o,r,a=l[0],i=l[1],s=l[2],c=0;if(a.some((function(n){return 0!==e[n]}))){for(o in i)t.o(i,o)&&(t.m[o]=i[o]);if(s)var d=s(t)}for(n&&n(l);c<a.length;c++)r=a[c],t.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return t.O(d)},l=self["webpackChunkaepp"]=self["webpackChunkaepp"]||[];l.forEach(n.bind(null,0)),l.push=n.bind(null,l.push.bind(l))}();var l=t.O(void 0,[998],(function(){return t(5177)}));l=t.O(l)})();
//# sourceMappingURL=app.22ebcb91.js.map